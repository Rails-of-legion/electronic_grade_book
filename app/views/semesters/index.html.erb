<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="text-center"><%= t('semesters.semesters') %></h1>
    <% if current_user.admin? %>
      <%= link_to t('common.add'), new_semester_path, class: 'btn btn-primary' %>
    <% end %>
  </div>

  <div class="row mb-4">
    <div class="col-md-9">
      <table class="table table-striped">
        <thead class="thead-light">
          <tr>
            <th><%= t('semesters.name') %></th>
            <th><%= t('semesters.start_date') %></th>
            <th><%= t('semesters.end_date') %></th>
            <% if current_user.admin? %>
              <th><%= t('semesters.actions') %></th>
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% @semesters.each do |semester| %>
            <tr>
              <td><%= link_to semester.name, semester_path(semester) %></td>
              <td><%= semester.start_date.strftime("%d.%m.%Y") if semester.start_date.present? %></td>
              <td><%= semester.end_date.strftime("%d.%m.%Y") if semester.end_date.present? %></td>
              <% if current_user.admin? %>
                <td class="text-right">
                  <%= link_to t('common.edit'), edit_semester_path(semester), class: 'btn btn-sm btn-secondary' %>
                  <%= link_to t('common.delete'), semester_path(semester), data: { turbo_method: :delete, turbo_confirm: t('notifications.you_are_sure') }, class: 'btn btn-danger btn-sm mr' %>
                </td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
      <%== pagy_bootstrap_nav(@pagy) if @pagy.pages > 1 %>
    </div>
    <div class="col-md-3"> 
      <%= search_form_for @q, class: "form-inline" do |f| %>
        <div class="form-group mb-2">
          <%= f.label :name_cont, t('semesters.name') %>
          <%= f.search_field :name_cont, class: "form-control" %>
        </div>
        <div class="form-group mb-2">
          <%= f.label :start_date_gteq, t('semesters.star_date_from')  %>
          <%= f.date_field :start_date_gteq, class: "form-control" %>
        </div>
        <div class="form-group mb-2">
          <%= f.label :start_date_lteq, t('semesters.start_date_before')  %>
          <%= f.date_field :start_date_lteq, class: "form-control" %>
        </div>
        <div class="form-group mb-2">
          <%= f.label :end_date_gteq, t('semesters.end_date_from')  %>
          <%= f.date_field :end_date_gteq, class: "form-control" %>
        </div>
        <div class="form-group mb-2">
          <%= f.label :end_date_lteq, t('semesters.end_date_before')  %>
          <%= f.date_field :end_date_lteq, class: "form-control" %>
        </div>
        <div class="form-group mt-3 d-flex"> 
          <%= f.submit t('common.search'), class: 'btn btn-primary me-2' %>
          <%= link_to t('common.reset'), semesters_path, class: "btn btn-secondary" %> 
        </div>
      <% end %>
    </div>
  </div> 
</div>
