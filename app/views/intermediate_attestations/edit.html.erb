<%= render 'shared/errors', object: @intermediate_attestation %>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <%= form_with(model: @intermediate_attestation, local: true) do |form| %>
        
        <div class="form-group row mb-3">
          <%= form.label :name, class: "col-sm-3 col-form-label text-right" %>
          <div class="col-sm-9">
            <%= form.text_field :name, class: "form-control" %>
          </div>
        </div>

        <div class="form-group row mb-3">
          <%= form.label :date, class: "col-sm-3 col-form-label text-right" %>
          <div class="col-sm-9">
            <%= form.date_field :date, class: "form-control" %>
          </div>
        </div>

        <div class="form-group row mb-3">
          <%= form.label :assessment_type, class: "col-sm-3 col-form-label text-right" %>
          <div class="col-sm-9">
            <%= form.text_field :assessment_type, class: "form-control" %>
          </div>
        </div>

        <div class="form-group row mb-3">
          <%= form.label :subject_id, class: "col-sm-3 col-form-label text-right" %>
          <div class="col-sm-9">
            <%= form.collection_select :subject_id, @subjects, :id, :name, { prompt: "Select Subject" }, class: "form-control" %>
          </div>
        </div>

        <div class="form-group row mb-3">
          <%= form.label :group_ids, class: "col-sm-3 col-form-label text-right" %>
          <div class="col-sm-9">
            <select id="group_ids" name="intermediate_attestation[group_ids][]" multiple="multiple" class="form-control">
              <% @groups.each do |group| %>
                <option value="<%= group.id %>" <%= 'selected' if @intermediate_attestation.group_ids.include?(group.id) %>>
                  <%= group.name %>
                </option>
              <% end %>
            </select>
          </div>
        </div>

        <div class="form-group row">
          <div class="col-sm-9 offset-sm-3 d-flex justify-content-end">
            <%= form.submit class: "btn btn-primary mr-2" %>
            <%= link_to "Back", intermediate_attestations_path, class: "btn btn-secondary" %>
          </div>
        </div>
        
      <% end %>
    </div>
  </div>
</div>
