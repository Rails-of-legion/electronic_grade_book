<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <%= link_to t('navbar.home'), root_path, class: "navbar-brand ms-4" %>
  <div class="collapse navbar-collapse" id="navbarNav">
    <ul class="navbar-nav">
      <li class="nav-item">
        <%= link_to t('navbar.about'), about_path, class: "nav-link #{request.fullpath == about_path ? 'active' : ''}" %>
      </li>
      <% if user_signed_in? %>
        <% if current_user.has_role?(:student) %>
          <li class="nav-item">
            <%= link_to t('navbar.profile'), user_path(current_user), class: "nav-link #{request.fullpath == user_path(current_user) ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.subjects'), subjects_path, class: "nav-link #{request.fullpath == subjects_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.semesters'), semesters_path, class: "nav-link #{request.fullpath == semesters_path ? 'active' : ''}" %>
          </li>
        <% elsif current_user.has_role?(:teacher) %>

          <li class="nav-item">
            <%= link_to t('navbar.subjects'), subjects_path, class: "nav-link #{request.fullpath == subjects_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.semesters'), semesters_path, class: "nav-link #{request.fullpath == semesters_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.groups'), groups_path, class: "nav-link #{request.fullpath == groups_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.specializations'), specializations_path, class: "nav-link #{request.fullpath == specializations_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to 'Отчеты', extends_reports_index_path, class: "nav-link #{request.fullpath == extends_reports_index_path ? 'active' : ''}" %>
          </li>
        <% elsif current_user.has_role?(:admin) %>
          <li class="nav-item">
            <%= link_to t('navbar.profile'), user_path(current_user), class: "nav-link #{request.fullpath == user_path(current_user) ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.notifications'), notifications_path, class: "nav-link #{request.fullpath == notifications_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.users'), users_path, class: "nav-link #{request.fullpath == users_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.specializations'), specializations_path, class: "nav-link #{request.fullpath == specializations_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.groups'), groups_path, class: "nav-link #{request.fullpath == groups_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.record_books'), record_books_path, class: "nav-link #{request.fullpath == record_books_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.grades'), grades_path, class: "nav-link #{request.fullpath == grades_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.subjects'), subjects_path, class: "nav-link #{request.fullpath == subjects_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.intermediate_attestations'), intermediate_attestations_path, class: "nav-link #{request.fullpath == intermediate_attestations_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.semesters'), semesters_path, class: "nav-link #{request.fullpath == semesters_path ? 'active' : ''}" %>
          </li>
          <li class="nav-item">
            <%= link_to t('navbar.reports'), extends_reports_index_path, class: "nav-link #{request.fullpath == extends_reports_index_path ? 'active' : ''}" %>
          </li>
        <% end %>
      <% end %>
    </ul>
  </div>
</nav>

<style>
  .navbar-nav .nav-item {
    margin-right: 15px; /* Adjust spacing between nav items */
  }

  .nav-link.active {
    background-color: #0056b3; /* Darker background for active link */
    color: white; /* Ensure the text color is white for better contrast */
    border-radius: 5px; /* Optional: Adds rounded corners to the active link */
  }
</style>
